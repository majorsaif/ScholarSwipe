<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ScholarSwipe</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üìö</text></svg>">
    <link rel="stylesheet" href="ScholarSwipe_CSS.css">
</head>
<body>
    <!-- Search Page -->
    <div id="searchPage" class="page active">
        <div class="container">
            <div class="logo-section">
                <h1 class="logo">üìö ScholarSwipe</h1>
                <p class="tagline">Match with your next citation</p>
            </div>
            
            <div class="search-box">
                <input 
                    type="text" 
                    id="searchInput" 
                    placeholder="What do you want to research today?"
                    autocomplete="off"
                />
                <button id="searchBtn" class="btn-primary">
                    <span>Start Swiping</span>
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <path d="M4 10h12m0 0l-4-4m4 4l-4 4" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                </button>
            </div>
            
            <div class="features">
                <div class="feature">
                    <div class="feature-icon">
                        <img src="Perplexity Logo.png" alt="Perplexity" class="perplexity-logo">
                    </div>
                    <div class="feature-text">Perplexity Powered</div>
                </div>
                <div class="feature">
                    <div class="feature-icon">üîç</div>
                    <div class="feature-text">Verified Sources</div>
                </div>
                <div class="feature">
                    <div class="feature-icon">‚ö°</div>
                    <div class="feature-text">Smart Summaries</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Swipe Page -->
    <div id="swipePage" class="page">
        <div class="swipe-header">
            <button id="backBtn" class="icon-btn">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <path d="M19 12H5m0 0l7 7m-7-7l7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                </svg>
            </button>
            <div class="query-display" id="queryDisplay"></div>
            <div class="counter">
                <span id="currentCard">0</span>/<span id="totalCards">0</span>
            </div>
        </div>

        <div class="swipe-container">
            <div id="cardStack" class="card-stack">
                <!-- Cards will be inserted here -->
            </div>
            
            <div class="swipe-actions">
                <button id="discardBtn" class="action-btn discard">
                    <svg width="32" height="32" viewBox="0 0 32 32" fill="none">
                        <path d="M8 8l16 16m0-16L8 24" stroke="currentColor" stroke-width="3" stroke-linecap="round"/>
                    </svg>
                    <span>Discard</span>
                </button>
                
                <button id="keepBtn" class="action-btn keep">
                    <svg width="32" height="32" viewBox="0 0 32 32" fill="none">
                        <path d="M6 16l8 8L26 8" stroke="currentColor" stroke-width="3" stroke-linecap="round"/>
                    </svg>
                    <span>Keep</span>
                </button>
            </div>
        </div>

        <div class="keyboard-hint">
            Use ‚Üê and ‚Üí arrow keys to swipe
        </div>
    </div>

    <!-- Results Page -->
    <div id="resultsPage" class="page">
        <div class="results-container">
            <div class="results-header">
                <h2>üìñ Your Saved Papers</h2>
                <p id="resultsCount"></p>
            </div>

            <div id="savedPapersList" class="saved-papers-list">
                <!-- Saved papers will be inserted here -->
            </div>

            <div class="results-actions">
                <button id="exportCsvBtn" class="btn-secondary">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <path d="M6 10l4 4 4-4M10 4v10" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                    Export as CSV
                </button>
                <button id="createBibliographyBtn" class="btn-secondary">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <path d="M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                    Create Bibliography
                </button>
                <button id="generateSummaryBtn" class="btn-primary">
                    Generate Overall Summary
                </button>
            </div>

            <div id="summarySection" class="summary-section" style="display: none;">
                <h3>üìù Overall Research Summary</h3>
                <div id="summaryContent" class="summary-content"></div>
            </div>

            <button id="newSearchBtn" class="btn-secondary" style="margin-top: 2rem;">
                Start New Search
            </button>
        </div>
    </div>

    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="loading-overlay">
        <div class="spinner"></div>
        <p id="loadingText">Searching research papers...</p>
    </div>

    <script src="ScholarSwipe_JS.js"></script>
</body>
</html>